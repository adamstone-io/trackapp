<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TempoTrack - Stats</title>
    <link rel="stylesheet" href="../css/main.css" />
  </head>
  <body>
    <header>
      <nav class="nav">
        <div class="nav__content">
          <h1 class="nav__title">TEMPO TRACK</h1>
        </div>

        <ul class="nav__links">
          <li class="nav__item">
            <a class="nav__link" href="habits.html">Habits</a>
          </li>
          <li class="nav__item">
            <a class="nav__link" href="timer.html">Time</a>
          </li>
          <li class="nav__item">
            <a class="nav__link" href="workspace.html">Workspace</a>
          </li>
          <li class="nav__item">
            <a class="nav__link nav__link--active" href="stats.html">Stats</a>
          </li>
          <li class="nav__item">
            <a class="nav__link" href="priming.html">Priming</a>
          </li>
          <li class="nav__item">
            <a class="nav__link" href="reviews.html">Reviews</a>
          </li>
          <li class="nav__item nav__user-menu" id="nav-user-menu">
            <button class="nav__link nav__user-btn" id="nav-user-btn" type="button">&nbsp;</button>
          </li>
        </ul>
      </nav>
      <script>
        (function() {
          var u = localStorage.getItem("authUsername");
          if (u) {
            var btn = document.getElementById("nav-user-btn");
            if (btn) btn.textContent = u;
          }
        })();
      </script>
    </header>

    <div class="container">
      <main class="timer-main">
        <section class="today-entries">
          <!-- Summary Cards -->
          <div class="stats-summary-cards">
            <div class="entry-card">
              <div class="entry-card__header">
                <span class="entry-card__title">Primes Logged Today</span>
                <span id="stats-primes-today" class="entry-card__duration"
                  >0</span
                >
              </div>
              <div class="entry-card__meta">
                <span
                  id="stats-primes-today-summary"
                  class="entry-card__time"
                ></span>
              </div>
            </div>

            <div class="entry-card">
              <div class="entry-card__header">
                <span class="entry-card__title">Primes Logged Yesterday</span>
                <span id="stats-primes-yesterday" class="entry-card__duration"
                  >0</span
                >
              </div>
              <div class="entry-card__meta">
                <span
                  id="stats-primes-yesterday-summary"
                  class="entry-card__time"
                ></span>
              </div>
            </div>

            <div class="entry-card">
              <div class="entry-card__header">
                <span class="entry-card__title">Primes Logged This Week</span>
                <span id="stats-primes-week" class="entry-card__duration"
                  >0</span
                >
              </div>
              <div class="entry-card__meta">
                <span
                  id="stats-primes-week-summary"
                  class="entry-card__time"
                ></span>
              </div>
            </div>

            <div class="entry-card">
              <div class="entry-card__header">
                <span class="entry-card__title">Primes Logged Last Week</span>
                <span id="stats-primes-last-week" class="entry-card__duration"
                  >0</span
                >
              </div>
              <div class="entry-card__meta">
                <span
                  id="stats-primes-last-week-summary"
                  class="entry-card__time"
                ></span>
              </div>
            </div>

            <div class="entry-card">
              <div class="entry-card__header">
                <span class="entry-card__title">Reviews Logged Today</span>
                <span id="stats-reviews-today" class="entry-card__duration"
                  >0</span
                >
              </div>
              <div class="entry-card__meta">
                <span
                  id="stats-reviews-today-summary"
                  class="entry-card__time"
                ></span>
              </div>
            </div>

            <div class="entry-card">
              <div class="entry-card__header">
                <span class="entry-card__title">Reviews Logged This Week</span>
                <span id="stats-reviews-week" class="entry-card__duration"
                  >0</span
                >
              </div>
              <div class="entry-card__meta">
                <span
                  id="stats-reviews-week-summary"
                  class="entry-card__time"
                ></span>
              </div>
            </div>

            <div class="entry-card">
              <div class="entry-card__header">
                <span class="entry-card__title">Reviews Logged This Month</span>
                <span id="stats-reviews-month" class="entry-card__duration"
                  >0</span
                >
              </div>
              <div class="entry-card__meta">
                <span
                  id="stats-reviews-month-summary"
                  class="entry-card__time"
                ></span>
              </div>
            </div>

            <div class="entry-card">
              <div class="entry-card__header">
                <span class="entry-card__title">Time Logged Today</span>
                <span id="stats-total-today" class="entry-card__duration"
                  >0m</span
                >
              </div>
              <div class="entry-card__meta">
                <span id="stats-summary" class="entry-card__time"></span>
              </div>
            </div>
          </div>

          <div class="stats-actions">
            <button
              id="stats-refresh-btn"
              class="btn btn--outline"
              type="button"
            >
              Refresh
            </button>
          </div>

          <h2 class="today-entries__title">Time by Task (Today)</h2>

          <div id="stats-by-task-list" class="today-entries__list"></div>

          <div
            id="stats-empty"
            class="today-entries__empty"
            style="display: none"
          >
            No time entries logged today
          </div>
        </section>
      </main>
    </div>

    <script src="../js/utils/config-bootstrap.js"></script>
    <script type="module" src="../js/stats-main.js"></script>
  </body>
</html>
